{"version":3,"sources":["components/Filter.js","components/Person.js","components/Persons.js","components/PersonForm.js","services/service.js","App.js","index.js"],"names":["Filter","props","react_default","a","createElement","value","onChange","Person","_ref","person","delName","key","name","number","onClick","Persons","personsToShow","map","components_Person","id","PersonForm","onSubmit","newName","handleNameChange","newNumber","handleNumberChange","type","baseUrl","service","newObject","axios","post","then","response","data","put","concat","delete","Notification","message","includes","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","useEffect","get","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","findString","setFindString","_useState9","_useState10","showAll","setShowAll","_useState11","_useState12","displayMessage","setDisplayMessage","filter","toLowerCase","updateNumber","window","confirm","returnedData","console","log","setTimeout","catch","error","App_Notification","components_Filter","event","target","x","length","components_PersonForm","preventDefault","addedObject","some","e","toUpperCase","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.aa8c058c.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n    <div>\r\n        filter shown with <input value={props.value} onChange={props.onChange} />\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from \"react\";\r\n\r\nconst Person = ({person, delName}) => {\r\n    return (\r\n    <li key = {person.name}> {person.name} {person.number}\r\n    <button onClick={delName}>Delete</button>\r\n    </li>\r\n    )\r\n  }\r\n\r\nexport default Person","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst Persons = ({personsToShow, delName}) => {\r\n    return (\r\n    <div>\r\n        <ul>\r\n            {personsToShow.map(person =>\r\n            <Person key={person.name} person={person} delName={() => delName(person.id, person.name)} />\r\n            )}\r\n        </ul>\r\n    </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Persons","import React from \"react\"\r\n\r\nconst PersonForm = ({onSubmit, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n    return (\r\n        <form onSubmit={onSubmit}>\r\n        <div>name: <input value={newName} onChange={handleNameChange} /></div>\r\n        <div>number: <input value={newNumber} onChange={handleNumberChange} /></div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const deleteUser = (id) => {\r\n      const request = axios.delete(`${baseUrl}/${id}`)\r\n      return request.then(response => response.data)\r\n  }\r\n\r\nexport default { \r\n    getAll, \r\n    create, \r\n    update,\r\n    deleteUser\r\n  }","import React from 'react';\nimport { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport axios from 'axios'\nimport service from './services/service'\n\nconst Notification = ({message}) => {\n  if (message === null) {\n    return null\n  }\n  if (message.includes(\"Added\")) {\n  return (\n    <div className='success' > {message} </div>\n  )}\n  if (message.includes(\"Error\")) {\n    return (\n    <div className='error' > {message} </div>\n    )\n  }\n}\n\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n\n  useEffect(() => {\n    axios.get('/api/persons')\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [findString, setFindString] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [displayMessage, setDisplayMessage] = useState(null)\n\n\n  const personsToShow = showAll\n  ? persons\n  : persons.filter(person => person.name.toLowerCase().includes(findString.toLowerCase()))\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleFindStringChange = (event) => {\n    setFindString(event.target.value)\n    const x = event.target.value\n    if (x !== \"\") {\n      setShowAll(false) \n    }\n    if (x.length === 0) {\n      setShowAll(true) \n    }\n  }\n\n  const addContact = (event) => {\n    event.preventDefault()\n    const addedObject ={\n      name: newName,\n      number: newNumber\n    }\n    const target = persons.filter((person) =>\n      person.name.toLowerCase() === newName.toLowerCase())\n\n    if (!persons.some(e => e.name.toUpperCase() === newName.toUpperCase())) {\n      service.create(addedObject).then(returnedData => {\n        setPersons(persons.concat(returnedData))\n        setDisplayMessage(`Added ${newName} `)\n        setTimeout(() => {\n        setDisplayMessage(null)\n      }, 3600)\n        setNewName(\"\")\n        setNewNumber(\"\")\n      }).catch(error => {\n        setDisplayMessage('Error ' + error.response.data.error)\n        setTimeout(() => {\n        setDisplayMessage(null)\n      }, 3600)\n      })\n    } else \n      updateNumber(target[0].id, newName, newNumber)\n      setNewName(\"\")\n      setNewNumber(\"\")\n  }\n\n  const delName = (id, name) => {\n    if (window.confirm(`delete ${name} ?`)) {\n      service.deleteUser(id).then(returnedData => {\n        console.log(returnedData)\n        setPersons(persons.filter(person => person.id !== id))\n      })\n      .catch(error => {\n        setDisplayMessage(\n          `Error ${name} was already removed from server`\n        )\n        setTimeout(() => {\n          setDisplayMessage(null)\n        }, 3600)\n        setPersons(persons.filter(person => person.id !== id))\n      })\n    }\n  }\n\n  const updateNumber = (id, name, newNumber) => {\n    const newObject ={\n      name: name,\n      number: newNumber\n    }\n    if (window.confirm(`${name} is already added on phonebook, replace the old number with a new one?`)) {\n      service.update(id, newObject).then(returnedData => {\n        console.log(returnedData)\n        setPersons(persons.map(person => person.id !== id ? person : returnedData))\n        setDisplayMessage(`Added ${newName} `)\n        setTimeout(() => {\n        setDisplayMessage(null)\n      }, 3600)\n      }).catch(error => {\n        setDisplayMessage('Error ' + error.response.data.error)\n        setTimeout(() => {\n        setDisplayMessage(null)\n      }, 3600)\n    })\n    }\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={displayMessage}/>\n      <Filter value={findString} onChange={handleFindStringChange} />\n      <h3>add a new</h3>\n      <PersonForm onSubmit={addContact} newName={newName}\n      handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h3>Numbers</h3>\n      <Persons personsToShow={personsToShow} delName={delName} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)\n\n"],"sourceRoot":""}